<div class="max-w-3xl mx-auto px-4 py-8">
  <div class="mb-6">
    <%= link_to "â† Back to TV Shows", admin_tv_shows_path,
        class: "text-red-500 hover:text-red-400 inline-flex items-center" %>
  </div>

  <div class="bg-gray-800 rounded-lg shadow-lg p-6">
    <h1 class="text-2xl font-bold text-white mb-6">Add New TV Show</h1>

    <%= form_with model: [:admin, @tv_show], local: true, class: "space-y-6" do |form| %>
      
      <% if @tv_show.errors.any? %>
        <div class="bg-red-900 border border-red-700 rounded-lg p-4">
          <h2 class="text-red-200 font-semibold"><%= pluralize(@tv_show.errors.count, "error") %> prohibited this TV show from being saved:</h2>
          <ul class="mt-2 text-red-300 list-disc list-inside">
            <% @tv_show.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <%= form.label :title, class: "block text-sm font-medium mb-2" %>
          <%= form.text_field :title, required: true, class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" %>
        </div>
        
        <div>
          <%= form.label :release_year, class: "block text-sm font-medium mb-2" %>
          <%= form.number_field :release_year, required: true, min: 1900, max: Date.current.year + 5, class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" %>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <%= form.label :seasons, class: "block text-sm font-medium mb-2" %>
          <%= form.number_field :seasons, required: true, min: 1, class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" %>
        </div>
        
        <div>
          <%= form.label :episodes, class: "block text-sm font-medium mb-2" %>
          <%= form.number_field :episodes, required: true, min: 1, class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" %>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <%= form.label :genre_id, "Genre", class: "block text-sm font-medium mb-2" %>
          <%= form.select :genre_id, options_from_collection_for_select(@genres, "id", "name"), { include_blank: "Select Genre" }, { class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" } %>
        </div>
        
        <div>
          <%= form.label :imdb_rating, class: "block text-sm font-medium mb-2" %>
          <%= form.number_field :imdb_rating, step: 0.1, min: 0, max: 10, class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" %>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <%= form.label :country, class: "block text-sm font-medium mb-2" %>
          <%= form.text_field :country, class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" %>
        </div>
        
        <div>
          <%= form.label :poster_url, "Poster URL", class: "block text-sm font-medium mb-2" %>
          <%= form.url_field :poster_url, class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" %>
          <p class="text-sm text-gray-400 mt-1">Direct image URL (optional if uploading file)</p>
        </div>
      </div>

      <div>
        <%= form.label :trailer_url, "Trailer URL", class: "block text-sm font-medium mb-2" %>
        <%= form.url_field :trailer_url, class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" %>
        <p class="text-sm text-gray-400 mt-1">YouTube or other video URL</p>
      </div>

      <div>
        <%= form.label :description, class: "block text-sm font-medium mb-2" %>
        <%= form.text_area :description, rows: 4, class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" %>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <%= form.label :thumbnail, "TV Show Thumbnail", class: "block text-sm font-medium mb-2" %>
          <%= form.file_field :thumbnail, accept: 'image/*', class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" %>
          <p class="text-sm text-gray-400 mt-1">Upload a poster image (PNG, JPG, JPEG - Max 5MB)</p>
        </div>
        
        <div>
          <%= form.label :video, "TV Show Video", class: "block text-sm font-medium mb-2" %>
          <%= form.file_field :video, accept: 'video/*', class: "w-full bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500" %>
          <p class="text-sm text-gray-400 mt-1">Upload a video file (MP4, AVI, MOV - Max 100MB)</p>
        </div>
      </div>

      <div class="flex justify-end space-x-4 pt-6 border-t border-gray-700">
        <%= link_to "Cancel", admin_tv_shows_path, class: "px-6 py-2 border border-gray-600 text-gray-300 rounded-md hover:bg-gray-700" %>
        <%= form.submit "Create TV Show", class: "px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 cursor-pointer" %>
      </div>
    <% end %>
  </div>
</div>